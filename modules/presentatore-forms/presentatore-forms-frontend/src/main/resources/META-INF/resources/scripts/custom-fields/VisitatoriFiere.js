var visitatoriFiereContainer = ' \
<script type="text/x-handlebars-template"> \
    <div data-custom-field="true" data-custom-field-height="250"> \
        {{#container}}{{/container}} \
    </div> \
</script>';

var visitatoriFiereContainerObject = ' \
<script type="text/x-handlebars-template"> \
    <div data-disable-interaction-custom-field="true"> \
	    <div class="row">\
			<div class="col-md-12 paddingleft20">{{#with items.[0]}}{{#item}}{{/item}}{{/with}}</div>\
		</div>\
		<div class="row">\
			<div class="col-md-12">\
				<div class="col-md-2 text-center"></div>\
				<div class="col-md-2 text-center">{{#with items.[1]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[2]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[3]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[4]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[5]}}{{#item}}{{/item}}{{/with}}</div>\
			</div>\
		</div>\
		<div class="row">\
			<div class="col-md-12">\
				<div class="col-md-2 text-center">{{#with items.[6]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[7]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[8]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[9]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[10]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[11]}}{{#item}}{{/item}}{{/with}}</div>\
			</div>\
		</div>\
		<div class="row">\
			<div class="col-md-12">\
				<div class="col-md-2 text-center">{{#with items.[12]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[13]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[14]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[15]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[16]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[17]}}{{#item}}{{/item}}{{/with}}</div>\
			</div>\
		</div>\
		<div class="row">\
			<div class="col-md-12">\
				<div class="col-md-2 text-center">{{#with items.[18]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[19]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[20]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[21]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[22]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[23]}}{{#item}}{{/item}}{{/with}}</div>\
			</div>\
		</div>\
		<div class="row">\
			<div class="col-md-12">\
				<div class="col-md-2 text-center">{{#with items.[24]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[25]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[26]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[27]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[28]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[29]}}{{#item}}{{/item}}{{/with}}</div>\
			</div>\
		</div>\
		<!-- VISITATORI NAZIONALI -->\
		<div class="row">\
			<div class="col-md-12 paddingleft20">{{#with items.[30]}}{{#item}}{{/item}}{{/with}}</div>\
		</div>\
		<div class="row">\
			<div class="col-md-12 paddingleft20">{{#with items.[31]}}{{#item}}{{/item}}{{/with}}</div>\
		</div>\
		<div class="row">\
			<div class="col-md-12">\
				<div class="col-md-2 text-center">{{#with items.[32]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[33]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[34]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[35]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[36]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[37]}}{{#item}}{{/item}}{{/with}}</div>\
			</div>\
		</div>\
		<div class="row">\
			<div class="col-md-12">\
				<div class="col-md-2 text-center">{{#with items.[24]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[38]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[39]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[40]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[41]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[42]}}{{#item}}{{/item}}{{/with}}</div>\
			</div>\
		</div>\
		<!-- FINE VISITATORI NAZIONALI -->\
		<!-- VISITATORI EUROPEI -->\
		<div class="row paddingtop20">\
			<div class="col-md-12 paddingleft20">{{#with items.[43]}}{{#item}}{{/item}}{{/with}}</div>\
		</div>\
		<div class="row">\
			<div class="col-md-12 paddingleft20">{{#with items.[44]}}{{#item}}{{/item}}{{/with}}</div>\
		</div>\
		<!-- FINE VISITATORI EUROPEI -->\
		<!-- VISITATORI EXTRA EUROPEI -->\
		<div class="row paddingtop20">\
			<div class="col-md-12 paddingleft20">{{#with items.[45]}}{{#item}}{{/item}}{{/with}}</div>\
		</div>\
		<div class="row paddingtop20">\
			<div class="col-md-12">\
				<div class="col-md-2 text-center">{{#with items.[32]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[46]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[47]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[48]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[49]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[50]}}{{#item}}{{/item}}{{/with}}</div>\
			</div>\
		</div>\
		<div class="row">\
			<div class="col-md-12">\
				<div class="col-md-2 text-center">{{#with items.[24]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[51]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[52]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[53]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[54]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[55]}}{{#item}}{{/item}}{{/with}}</div>\
			</div>\
		</div>\
		<!-- FINE VISITATORI EXTRA EUROPEI -->\
		<!-- CONTATORI HIDDEN -->\
		<div class="row">\
			<div class="col-md-12">\
				<div class="col-md-2 text-center">{{#with items.[56]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[57]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[58]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[59]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[60]}}{{#item}}{{/item}}{{/with}}</div>\
				\
				<div class="col-md-2 text-center">{{#with items.[61]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[62]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[63]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[64]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[65]}}{{#item}}{{/item}}{{/with}}</div>\
				\
				<div class="col-md-2 text-center">{{#with items.[66]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[67]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[68]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[69]}}{{#item}}{{/item}}{{/with}}</div>\
				<div class="col-md-2 text-center">{{#with items.[70]}}{{#item}}{{/item}}{{/with}}</div>\
			</div>\
		</div>\
	</div>\
</script>';

(function($) {

    var Alpaca = $.alpaca;
	
	function arrayVisiteNazionaliChange(element){
		
		var nazionali = [];
		element.parent.childrenByPropertyId["numeroRegioni"].setValue(nazionali.length);
		
		var array = element;
		var size = array.getValue().length;
		
		var totalePugliesi = 0;
		var isPuglia = false;
		
		var totaleProfessionaliArray = 0;
		var totaleGenericiArray = 0;
		var totaleReingressiArray = 0;
		
		for(var i = 0; i < size; i++){
			var regione = '';
			var professionali = '';
			var generici = '';
			var totVisitatori = 0;	
			var reingressi = '';
			var totale = 0;	
			var selectRegione = '';
			
			if(array.getValue()[i]){
				
				if(array.getValue()[i].professionali){
					professionali = array.getValue()[i].professionali;
					if(!isNaN(professionali)){
						totaleProfessionaliArray += Number(professionali);
					}
				}
				
				if(array.getValue()[i].generici){
					generici = array.getValue()[i].generici;
					if(!isNaN(generici)){
						totaleGenericiArray += Number(generici);
					}
				}
				
				if(!isNaN(professionali) && !isNaN(generici)){
					totVisitatori = Number(professionali) + Number(generici);
				}
				
				if(array.getValue()[i].reingressi){
					reingressi = array.getValue()[i].reingressi;
					if(!isNaN(reingressi)){
						totaleReingressiArray += Number(reingressi);
					}
				}
				
				if(totVisitatori && !isNaN(reingressi)){
					totale = Number(totVisitatori) + Number(reingressi);
				}
				
				if(array.getValue()[i].regione){
					regione = array.getValue()[i].regione;
					
					selectRegione = $('select[name=' + element.name + '_'+ i +'_regione]').find('option:selected')[0].label;
					
					if(selectRegione && selectRegione.toUpperCase() === "PUGLIA"){
						isPuglia = true;
						totalePugliesi = totVisitatori;
					}
				}
					
			}
			
			nazionali.push({"regione" : regione, "professionali": professionali, "generici": generici, "totVisitatori": totVisitatori, "reingressi": reingressi, "totale": totale});
			element.parent.childrenByPropertyId["numeroRegioni"].setValue(nazionali.length);
			
		}
		
		if(isPuglia){
			element.parent.childrenByPropertyId["numeroVisitatoriPuglia"].setValue(totalePugliesi);
		} else {
			element.parent.childrenByPropertyId["numeroVisitatoriPuglia"].setValue(0);
		}
			
		array.setValue(nazionali);
		/*
		element.parent.childrenByPropertyId["italianiProfessioanli"].setValue(totaleProfessionaliArray);
		element.parent.childrenByPropertyId["italianiGenerici"].setValue(totaleGenericiArray);
		element.parent.childrenByPropertyId["italianiTotaleVis"].setValue(totaleProfessionaliArray + totaleGenericiArray);
		element.parent.childrenByPropertyId["italianiReingressi"].setValue(totaleReingressiArray);
		element.parent.childrenByPropertyId["italianiTotaleVisite"].setValue(totaleProfessionaliArray + totaleGenericiArray + totaleReingressiArray);
		*/
		/* hidden da utilizzare nel calcolo di 'altri' */
		element.parent.childrenByPropertyId["totaleProfessioanliItaliani"].setValue(totaleProfessionaliArray);
		element.parent.childrenByPropertyId["totaleGenericiItaliani"].setValue(totaleGenericiArray);
		element.parent.childrenByPropertyId["totaleVisitatoriItaliani"].setValue(totaleProfessionaliArray + totaleGenericiArray);
		element.parent.childrenByPropertyId["totaleReingressiItaliani"].setValue(totaleReingressiArray);
		element.parent.childrenByPropertyId["totaleVisitatoriReingressiItaliani"].setValue(totaleProfessionaliArray + totaleGenericiArray + totaleReingressiArray);
		
		
		/*	
		calcolaRiepilogoVisitatori(element);
		*/
		
		calcolaNcVisiteNazionali(element);
	}
	
	function calcolaNcVisiteNazionali(element){
		
		/* ALTRO */
		var ncNazProfessionali = Number(element.parent.childrenByPropertyId["ncNazProfessionali"].getValue());
		var ncNazgenerici = Number(element.parent.childrenByPropertyId["ncNazgenerici"].getValue());	
		var visitatoriNcTotale = element.parent.childrenByPropertyId["visitatoriNcTotale"];
		
		/* calcolo totale visitatori */
		if(!isNaN(ncNazProfessionali) && !isNaN(ncNazgenerici)){
			visitatoriNcTotale.setValue(ncNazProfessionali + ncNazgenerici)
		}
		
		var ncNazReingressi = Number(element.parent.childrenByPropertyId["ncNazReingressi"].getValue());
		var totNcNazionale = element.parent.childrenByPropertyId["totNcNazionale"];
		
		/* calcolo totale più reingressi */
		if(!isNaN(ncNazReingressi)){
			totNcNazionale.setValue(ncNazReingressi + Number(visitatoriNcTotale.getValue()));
		}
		
		/* aggiorno la tabella di riepilogo */
		var italianiProfessioanli = element.parent.childrenByPropertyId["italianiProfessioanli"];
		var italianiGenerici = element.parent.childrenByPropertyId["italianiGenerici"];
		var italianiTotaleVis = element.parent.childrenByPropertyId["italianiTotaleVis"];
		var italianiReingressi = element.parent.childrenByPropertyId["italianiReingressi"];
		var italianiTotaleVisite = element.parent.childrenByPropertyId["italianiTotaleVisite"];
		
		/* Recupero totali calcolati da array */
		var totaleProfessioanliItaliani = Number(element.parent.childrenByPropertyId["totaleProfessioanliItaliani"].getValue());
		var totaleGenericiItaliani = Number(element.parent.childrenByPropertyId["totaleGenericiItaliani"].getValue());
		//var totaleVisitatoriItaliani = Number(element.parent.childrenByPropertyId["totaleVisitatoriItaliani"].getValue());
		var totaleReingressiItaliani = Number(element.parent.childrenByPropertyId["totaleReingressiItaliani"].getValue());
		var totaleVisitatoriReingressiItaliani = Number(element.parent.childrenByPropertyId["totaleVisitatoriReingressiItaliani"].getValue());
		
		if(!isNaN(ncNazProfessionali)){
			italianiProfessioanli.setValue(totaleProfessioanliItaliani + ncNazProfessionali);
			element.parent.childrenByPropertyId["totNazProfessionali"].setValue(totaleProfessioanliItaliani + ncNazProfessionali);
		}
		
		if(!isNaN(ncNazgenerici)){
			italianiGenerici.setValue(totaleGenericiItaliani + ncNazgenerici);
			element.parent.childrenByPropertyId["totNazgenerici"].setValue(totaleGenericiItaliani + ncNazgenerici);
		}
		
		if(!isNaN(ncNazProfessionali) && !isNaN(ncNazgenerici)){
			italianiTotaleVis.setValue(Number(italianiProfessioanli.getValue()) + Number(italianiGenerici.getValue()));
			element.parent.childrenByPropertyId["totNazVisitatori"].setValue(Number(italianiProfessioanli.getValue()) + Number(italianiGenerici.getValue()));
		}
		
		if(!isNaN(ncNazReingressi)){
			italianiReingressi.setValue(ncNazReingressi + totaleReingressiItaliani);
			element.parent.childrenByPropertyId["totNazReingressi"].setValue(ncNazReingressi + totaleReingressiItaliani);
		}
		
		italianiTotaleVisite.setValue(totaleVisitatoriReingressiItaliani + Number(totNcNazionale.getValue()));
		element.parent.childrenByPropertyId["totNazionale"].setValue(totaleVisitatoriReingressiItaliani + Number(totNcNazionale.getValue()));
		
		
		calcolaRiepilogoVisitatori(element);
		
	}
	
	/*
	var totaleProfessionaliEu = 0;
	var totalegenericiEu = 0;
	var totalevisitatoriEu = 0;
	var totaleReingressiEu = 0;
	var totaleEu = 0;
	*/
	
	function arrayVisiteEuChange(element){
		
		var eu = [];
		
		var array = element;
		var size = array.getValue().length;
		
		var totaleProfessionaliArray = 0;
		var totaleGenericiArray = 0;
		var totaleReingressiArray = 0;
		
		for(var i = 0; i < size; i++){
			var nazione = '';
			var professionali = '';
			var generici = '';
			var totVisitatori = 0;	
			var reingressi = '';
			var totale = 0;	
			
			if(array.getValue()[i]){
				
				if(array.getValue()[i].nazione){
					nazione = array.getValue()[i].nazione;
				}
				
				if(array.getValue()[i].professionali){
					professionali = array.getValue()[i].professionali;
					if(!isNaN(professionali)){
						totaleProfessionaliArray += Number(professionali);
					}
				}
				
				if(array.getValue()[i].generici){
					generici = array.getValue()[i].generici;
					if(!isNaN(generici)){
						totaleGenericiArray += Number(generici);
					}
				}
				
				if(!isNaN(professionali) && !isNaN(generici)){
					totVisitatori = Number(professionali) + Number(generici);
				}
				
				if(array.getValue()[i].reingressi){
					reingressi = array.getValue()[i].reingressi;
					if(!isNaN(reingressi)){
						totaleReingressiArray += Number(reingressi);
					}
				}
				
				if(totVisitatori && !isNaN(reingressi)){
					totale = Number(totVisitatori) + Number(reingressi);
				}
					
			}
			
			eu.push({"nazione" : nazione, "professionali": professionali, "generici": generici, "totVisitatori": totVisitatori, "reingressi": reingressi, "totale": totale});
		}
		
		array.setValue(eu);
		/*
		totaleProfessionaliEu = Number(euProfessioanli.getValue());
		totalegenericiEu = Number(euGenerici.getValue());
		totalevisitatoriEu = Number(euTotaleVis.getValue());
		totaleReingressiEu = Number(euReingressi.getValue());
		totaleEu = Number(euTotaleVisite.getValue());
		
		calcolaNcVisiteEu(element);
		*/
		element.parent.childrenByPropertyId["euProfessioanli"].setValue(totaleProfessionaliArray);
		element.parent.childrenByPropertyId["euGenerici"].setValue(totaleGenericiArray);
		element.parent.childrenByPropertyId["euTotaleVis"].setValue(totaleProfessionaliArray + totaleGenericiArray);
		element.parent.childrenByPropertyId["euReingressi"].setValue(totaleReingressiArray);
		element.parent.childrenByPropertyId["euTotaleVisite"].setValue(totaleProfessionaliArray + totaleGenericiArray + totaleReingressiArray);

		calcolaNcVisiteExtraEu(element);
		
	}
	
	/*
	function calcolaNcVisiteEu(element){
		
		var ncUeProfessionali = element.parent.childrenByPropertyId["ncUeProfessionali"];
		var ncUegenerici = element.parent.childrenByPropertyId["ncUegenerici"];	
		var visitatoriNcTotale = element.parent.childrenByPropertyId["visitatoriNcUeTotale"];
		var ncUeReingressi = element.parent.childrenByPropertyId["ncUeReingressi"];
		var totNcUe = element.parent.childrenByPropertyId["totNcUe"];
			
		var totUeProfessionali = element.parent.childrenByPropertyId["totUeProfessionali"];
		var totUegenerici = element.parent.childrenByPropertyId["totUegenerici"];
		var totUeVisitatori = element.parent.childrenByPropertyId["totUeVisitatori"];	
		var totUeReingressi = element.parent.childrenByPropertyId["totUeReingressi"];
		var totUe = element.parent.childrenByPropertyId["totUe"];
		
		visitatoriNcTotale.setValue(Number(ncUeProfessionali.getValue()) + Number(ncUegenerici.getValue()));
		totNcUe.setValue(Number(ncUeReingressi.getValue()) + Number(visitatoriNcTotale.getValue()));
		
		totUeProfessionali.setValue(Number(ncUeProfessionali.getValue()) + totaleProfessionaliEu);
		totUegenerici.setValue(Number(ncUegenerici.getValue()) + totalegenericiEu);
		totUeVisitatori.setValue(Number(visitatoriNcTotale.getValue()) + totalevisitatoriEu);
		totUeReingressi.setValue(Number(ncUeReingressi.getValue()) + totaleReingressiEu);
		totUe.setValue(Number(totUeVisitatori.getValue()) + Number(totUeReingressi.getValue()));
		
		/* reset tabella riepilogo 
		element.parent.childrenByPropertyId["euProfessioanli"].setValue(Number(totUeProfessionali.getValue()));
		element.parent.childrenByPropertyId["euGenerici"].setValue(Number(totUegenerici.getValue()));	
		element.parent.childrenByPropertyId["euTotaleVis"].setValue(Number(totUeVisitatori.getValue()));	
		element.parent.childrenByPropertyId["euReingressi"].setValue(Number(totUeReingressi.getValue()));	
		element.parent.childrenByPropertyId["euTotaleVisite"].setValue(Number(totUe.getValue()));
		
		calcolaRiepilogoVisitatori(element);
		
	}
	*/
	
	var totaleProfessionaliExtraEu = 0;
	var totalegenericiExtraEu = 0;
	var totalevisitatoriExtraEu = 0;
	var totaleReingressiExtraEu = 0;
	var totaleExtraEu = 0;
	
	function arrayVisiteExtraEuChange(element){
		
		var extraEu = [];
		
		var array = element;
		var size = array.getValue().length;
		
		var totaleProfessionaliArray = 0;
		var totaleGenericiArray = 0;
		var totaleReingressiArray = 0;
		
		for(var i = 0; i < size; i++){
			var nazione = '';
			var professionali ='';
			var generici = '';
			var totVisitatori = 0;	
			var reingressi = '';
			var totale = 0;	
			
			if(array.getValue()[i]){
				
				if(array.getValue()[i].nazione){
					nazione = array.getValue()[i].nazione;
				}
				
				if(array.getValue()[i].professionali){
					professionali = array.getValue()[i].professionali;
					if(!isNaN(professionali)){
						totaleProfessionaliArray += Number(professionali);
					}
				}
				
				if(array.getValue()[i].generici){
					generici = array.getValue()[i].generici;
					if(!isNaN(generici)){
						totaleGenericiArray += Number(generici);
					}
				}
				
				if(!isNaN(professionali) && !isNaN(generici)){
					totVisitatori = Number(professionali) + Number(generici);
				}
				
				if(array.getValue()[i].reingressi){
					reingressi = array.getValue()[i].reingressi;
					if(!isNaN(reingressi)){
						totaleReingressiArray += Number(reingressi);
					}
				}
				
				if(totVisitatori && !isNaN(reingressi)){
					totale = Number(totVisitatori) + Number(reingressi);
				}
					
			}
			
			extraEu.push({"nazione" : nazione, "professionali": professionali, "generici": generici, "totVisitatori": totVisitatori, "reingressi": reingressi, "totale": totale});
		}
		
		array.setValue(extraEu);
		
		
		element.parent.childrenByPropertyId["totaleProfessionaliExtraEu"].setValue(Number(totaleProfessionaliArray));
		element.parent.childrenByPropertyId["totalegenericiExtraEu"].setValue(Number(totaleGenericiArray));
		element.parent.childrenByPropertyId["totalevisitatoriExtraEu"].setValue(Number(totaleProfessionaliArray) + Number(totaleGenericiArray));
		element.parent.childrenByPropertyId["totaleReingressiExtraEu"].setValue(Number(totaleReingressiArray));
		element.parent.childrenByPropertyId["totaleExtraEu"].setValue(Number(totaleProfessionaliArray) + Number(totaleGenericiArray) + Number(totaleReingressiArray));

		element.parent.childrenByPropertyId["extraEuProfessioanli"].setValue(totaleProfessionaliArray);
		element.parent.childrenByPropertyId["extraEuGenerici"].setValue(totaleGenericiArray);
		element.parent.childrenByPropertyId["extraEuTotaleVis"].setValue(totaleProfessionaliArray + totaleGenericiArray);
		element.parent.childrenByPropertyId["extraEuReingressi"].setValue(totaleReingressiArray);
		element.parent.childrenByPropertyId["extraEuTotaleVisite"].setValue(totaleProfessionaliArray + totaleGenericiArray + totaleReingressiArray);
		
		calcolaNcVisiteExtraEu(element);	
		
	}
	
	function calcolaNcVisiteExtraEu(element){
		
		/* altro */
		var ncExtraEuProfessionali = Number(element.parent.childrenByPropertyId["ncExtraEuProfessionali"].getValue());
		var ncExtraEugenerici = Number(element.parent.childrenByPropertyId["ncExtraEugenerici"].getValue());
		
		/* calcola visitatori nc */
		if(!isNaN(ncExtraEuProfessionali) && !isNaN(ncExtraEugenerici)){
			element.parent.childrenByPropertyId["visitatoriNcExtraEuTotale"].setValue(ncExtraEuProfessionali + ncExtraEugenerici);
		}		
			
		var visitatoriNcTotale = Number(element.parent.childrenByPropertyId["visitatoriNcExtraEuTotale"].getValue());
		var ncExtraEuReingressi = Number(element.parent.childrenByPropertyId["ncExtraEuReingressi"].getValue());
		
		/* calcola totale visitatori nc */
		if(!isNaN(visitatoriNcTotale) && !isNaN(ncExtraEuReingressi)){
			element.parent.childrenByPropertyId["totNcExtraEu"].setValue(visitatoriNcTotale + ncExtraEuReingressi);
		}
		
		var totNcExtraEu = Number(element.parent.childrenByPropertyId["totNcExtraEu"].getValue());
		
		/* Extra UE Riepilogo */
		var extraEuProfessioanli = element.parent.childrenByPropertyId["extraEuProfessioanli"];
		var extraEuGenerici = element.parent.childrenByPropertyId["extraEuGenerici"];
		var extraEuTotaleVis = element.parent.childrenByPropertyId["extraEuTotaleVis"];
		var extraEuReingressi = element.parent.childrenByPropertyId["extraEuReingressi"];
		var extraEuTotaleVisite = element.parent.childrenByPropertyId["extraEuTotaleVisite"];
		
		if(!isNaN(ncExtraEuProfessionali)){
			extraEuProfessioanli.setValue(Number(element.parent.childrenByPropertyId["totaleProfessionaliExtraEu"].getValue()) + ncExtraEuProfessionali);
		}		
		
		if(!isNaN(ncExtraEugenerici)){
			extraEuGenerici.setValue(Number(element.parent.childrenByPropertyId["totalegenericiExtraEu"].getValue()) + ncExtraEugenerici);
		}
		
		if(!isNaN(ncExtraEuProfessionali) && !isNaN(ncExtraEugenerici)){
			extraEuTotaleVis.setValue(Number(element.parent.childrenByPropertyId["totalevisitatoriExtraEu"].getValue()) + visitatoriNcTotale);
		}
		
		if(!isNaN(ncExtraEuReingressi)){
			extraEuReingressi.setValue(Number(element.parent.childrenByPropertyId["totaleReingressiExtraEu"].getValue()) + ncExtraEuReingressi);
		}
		
		if(!isNaN(ncExtraEuReingressi) && !isNaN(totNcExtraEu)){
			extraEuTotaleVisite.setValue(Number(element.parent.childrenByPropertyId["totaleExtraEu"].getValue()) + totNcExtraEu);
		}
		
		calcolaRiepilogoVisitatori(element);
		
		
		/* aggiorna totale esteri sotto array con i non classificati */
		
		/* EUROPEI riepilogo */
		var euProfessioanli = Number(element.parent.childrenByPropertyId["euProfessioanli"].getValue());
		var euGenerici = Number(element.parent.childrenByPropertyId["euGenerici"].getValue());
		var euTotaleVis = Number(element.parent.childrenByPropertyId["euTotaleVis"].getValue());
		var euReingressi = Number(element.parent.childrenByPropertyId["euReingressi"].getValue());
		var euTotaleVisite = Number(element.parent.childrenByPropertyId["euTotaleVisite"].getValue());

		element.parent.childrenByPropertyId["totExtraEuProfessionali"].setValue(euProfessioanli + Number(extraEuProfessioanli.getValue()));
		element.parent.childrenByPropertyId["totExtraEugenerici"].setValue(euGenerici + Number(extraEuGenerici.getValue()));		
		element.parent.childrenByPropertyId["totExtraEuVisitatori"].setValue(euTotaleVis + Number(extraEuTotaleVis.getValue()));		
		element.parent.childrenByPropertyId["totExtraEuReingressi"].setValue(euReingressi + Number(extraEuReingressi.getValue()));
		element.parent.childrenByPropertyId["totExtraEu"].setValue(euTotaleVisite + Number(extraEuTotaleVisite.getValue()));
		
	}
	
	function calcolaRiepilogoVisitatori(element){
		
		var italianiProfessioanli = Number(element.parent.childrenByPropertyId["italianiProfessioanli"].getValue());
		var italianiGenerici = Number(element.parent.childrenByPropertyId["italianiGenerici"].getValue());
		var italianiTotaleVis = Number(element.parent.childrenByPropertyId["italianiTotaleVis"].getValue());
		var italianiReingressi = Number(element.parent.childrenByPropertyId["italianiReingressi"].getValue());	
		var italianiTotaleVisite = Number(element.parent.childrenByPropertyId["italianiTotaleVisite"].getValue());
		
		var euProfessioanli = Number(element.parent.childrenByPropertyId["euProfessioanli"].getValue());
		var euGenerici = Number(element.parent.childrenByPropertyId["euGenerici"].getValue());
		var euTotaleVis = Number(element.parent.childrenByPropertyId["euTotaleVis"].getValue());
		var euReingressi = Number(element.parent.childrenByPropertyId["euReingressi"].getValue());	
		var euTotaleVisite = Number(element.parent.childrenByPropertyId["euTotaleVisite"].getValue());
		
		var extraEuProfessioanli = Number(element.parent.childrenByPropertyId["extraEuProfessioanli"].getValue());
		var extraEuGenerici = Number(element.parent.childrenByPropertyId["extraEuGenerici"].getValue());
		var extraEuTotaleVis = Number(element.parent.childrenByPropertyId["extraEuTotaleVis"].getValue());
		var extraEuReingressi = Number(element.parent.childrenByPropertyId["extraEuReingressi"].getValue());	
		var extraEuTotaleVisite = Number(element.parent.childrenByPropertyId["extraEuTotaleVisite"].getValue());
		
		
		element.parent.childrenByPropertyId["totaleProfessionali"].setValue(italianiProfessioanli + euProfessioanli + extraEuProfessioanli);
		element.parent.childrenByPropertyId["totaleGenerici"].setValue(italianiGenerici + euGenerici + extraEuGenerici);
		element.parent.childrenByPropertyId["totaleVisitatori"].setValue(italianiTotaleVis + euTotaleVis + extraEuTotaleVis);
		element.parent.childrenByPropertyId["totaleReingressi"].setValue(italianiReingressi + euReingressi + extraEuReingressi);	
		element.parent.childrenByPropertyId["totaleVisitatoriReingressi"].setValue(italianiTotaleVisite + euTotaleVisite + extraEuTotaleVisite);
		
	}
    
    Alpaca.Fields.VisitatoriFiere = Alpaca.Fields.ObjectField.extend(
    /**
	 * @lends Alpaca.Fields.VisitatoriFiere.prototype
	 */
    {
        /**
		 * @see Alpaca.Fields.ObjectField#getFieldType
		 */
        getFieldType: function() {
            return "visitatoriFiere";
        },

        /**
		 * @private
		 * @see Alpaca.Fields.ObjectField#setup
		 */
        setup: function() {
            this.base();

            this.schema = {
        		 "type": "object",
                 "properties": {
					"visitatoriUniciLabel": {
	                    "type": "string",
	                    "required": false,
	                    "properties": {}
	                },
	                "professionaliLabel": {
	                    "type": "string",
	                    "required": false,
	                    "properties": {}
	                },
	                "genericiLabel": {
	                    "type": "string",
	                    "required": false,
	                    "properties": {}
	                },
	                "totaleVisitatoriLabel": {
	                    "type": "string",
	                    "required": false,
	                    "properties": {}
	                },
	                "reingressiLabel": {
	                    "type": "string",
	                    "required": false,
	                    "properties": {}
	                },
	                "totaleVisiteLabel": {
	                    "type": "string",
	                    "required": false,
	                    "properties": {}
	                },
	                "italianiLabel": {
	                    "type": "string",
	                    "required": false,
	                    "properties": {}
	                },
	                "italianiProfessioanli": {
	                    "required": true,
	                    "type": "string",
	                    "pattern": "^\\d+$",
	                    "properties": {}
	                },
	                "italianiGenerici": {
	                    "required": true,
	                    "type": "string",
	                    "pattern": "^\\d+$",
	                    "properties": {}
	                },
	                "italianiTotaleVis": {
	                    "required": false,
	                    "type": "string",
	                    "properties": {}
	                },
	                "italianiReingressi": {
	                    "required": true,
	                    "type": "string",
	                    "pattern": "^\\d+$",
	                    "properties": {}
	                },
	                "italianiTotaleVisite": {
	                    "required": false,
	                    "type": "string",
	                    "properties": {}
	                },
	                "euLabel": {
	                    "type": "string",
	                    "required": false,
	                    "properties": {}
	                },
	                "euProfessioanli": {
	                    "required": true,
	                    "type": "string",
	                    "pattern": "^\\d+$",
	                    "properties": {}
	                },
	                "euGenerici": {
	                    "required": true,
	                    "type": "string",
	                    "pattern": "^\\d+$",
	                    "properties": {}
	                },
	                "euTotaleVis": {
	                    "required": false,
	                    "type": "string",
	                    "properties": {}
	                },
	                "euReingressi": {
	                    "required": true,
	                    "type": "string",
	                    "pattern": "^\\d+$",
	                    "properties": {}
	                },
	                "euTotaleVisite": {
	                    "required": false,
	                    "type": "string",
	                    "properties": {}
	                },
	                "extraEuLabel": {
	                    "type": "string",
	                    "required": false,
	                    "properties": {}
	                },
	                "extraEuProfessioanli": {
	                    "required": true,
	                    "type": "string",
	                    "pattern": "^\\d+$",
	                    "properties": {}
	                },
	                "extraEuGenerici": {
	                    "required": true,
	                    "type": "string",
	                    "pattern": "^\\d+$",
	                    "properties": {}
	                },
	                "extraEuTotaleVis": {
	                    "required": false,
	                    "type": "string",
	                    "properties": {}
	                },
	                "extraEuReingressi": {
	                    "required": true,
	                    "type": "string",
	                    "pattern": "^\\d+$",
	                    "properties": {}
	                },
	                "extraEuTotaleVisite": {
	                    "required": false,
	                    "type": "string",
	                    "properties": {}
	                },
	                "totaleLabel": {
	                    "type": "string",
	                    "required": false,
	                    "properties": {}
	                },
	                "totaleProfessionali": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "totaleGenerici": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "totaleVisitatori": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "totaleReingressi": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "totaleVisitatoriReingressi": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "visitatoritoriNazionaliLabel": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "visitatoriNazionali": {
	                    "readonly": false,
	                    "required": false,
	                    "type": "array",
	                    "minItems": 0,
	                    "items": {
	                        "type": "object",
	                        "properties": {
	                            "regione": {
	                                "title": "Regione",
	                                "required": true
	                            },
	                            "professionali": {
	                                "title": "N&#176; Visitatori Professionali",
	                                "pattern": "^\\d+$",
	                                "type": "string",
	                                "required": true
	                            },
	                            "generici": {
	                                "title": "N&#176; Visitatori generici",
	                                "pattern": "^\\d+$",
	                                "type": "string",
	                                "required": true
	                            },
	                            "totVisitatori": {
	                                "title": "Totale visitatori",
	                                "type": "string"
	                            },
	                            "reingressi": {
	                                "title": "N&#176; Reingressi",
	                                "pattern": "^\\d+$",
	                                "type": "string",
	                                "required": true
	                            },
	                            "totale": {
	                                "title": "Totale visitatori + Reingressi",
	                                "type": "string"
	                            }
	                        },
	                        "required": false
	                    },
	                    "uniqueItems": false,
	                    "properties": {}
	                },
	                "ncLabel": {
	                    "type": "string",
	                    "required": false,
	                    "properties": {}
	                },
	                "ncNazProfessionali": {
	                    "pattern": "^\\d+$",
	                    "type": "string",
	                    "required": false,
	                    "properties": {}
	                },
	                "ncNazgenerici": {
	                    "pattern": "^\\d+$",
	                    "type": "string",
	                    "required": false,
	                    "properties": {}
	                },
	                "visitatoriNcTotale": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "ncNazReingressi": {
	                    "type": "string",
	                    "pattern": "^\\d+$",
	                    "required": false,
	                    "properties": {}
	                },
	                "totNcNazionale": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "totNazProfessionali": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "totNazgenerici": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "totNazVisitatori": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "totNazReingressi": {
	                    "type": "string",
	                    "required": true,
	                    "properties": {}
	                },
	                "totNazionale": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "visitatoritoriEsteriLabel": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "visitatoriEuropei": {
	                    "readonly": false,
	                    "required": false,
	                    "type": "array",
	                    "minItems": 0,
	                    "items": {
	                        "type": "object",
	                        "properties": {
	                            "nazione": {
	                                "title": "Nazione",
	                                "required": true
	                            },
	                            "professionali": {
	                                "title": "N&#176; Visitatori Professionali",
	                                "pattern": "^\\d+$",
	                                "type": "string",
	                                "required": true
	                            },
	                            "generici": {
	                                "title": "N&#176; Visitatori generici",
	                                "pattern": "^\\d+$",
	                                "type": "string",
	                                "required": true
	                            },
	                            "totVisitatori": {
	                                "title": "Totale visitatori",
	                                "type": "string"
	                            },
	                            "reingressi": {
	                                "title": "N&#176; Reingressi",
	                                "pattern": "^\\d+$",
	                                "type": "string",
	                                "required": true
	                            },
	                            "totale": {
	                                "title": "Totale visitatori + Reingressi",
	                                "type": "string"
	                            }
	                        },
	                        "required": false
	                    },
	                    "uniqueItems": false,
	                    "properties": {}
	                },/*
	                "ncUeProfessionali": {
	                    "pattern": "^\\d+$",
	                    "type": "string",
	                    "required": true,
	                    "properties": {}
	                },
	                "ncUegenerici": {
	                    "pattern": "^\\d+$",
	                    "type": "string",
	                    "required": true,
	                    "properties": {}
	                },
	                "visitatoriNcUeTotale": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "ncUeReingressi": {
	                    "type": "string",
	                    "pattern": "^\\d+$",
	                    "required": true,
	                    "properties": {}
	                },
	                "totNcUe": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "totUeProfessionali": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "totUegenerici": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "totUeVisitatori": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "totUeReingressi": {
	                    "type": "string",
	                    "required": true,
	                    "properties": {}
	                },
	                "totUe": {
	                    "type": "string",
	                    "properties": {}
	                },*/
	                "visitatoriExtraEuropei": {
	                    "readonly": false,
	                    "required": false,
	                    "type": "array",
	                    "minItems": 0,
	                    "items": {
	                        "type": "object",
	                        "properties": {
	                            "nazione": {
	                                "title": "Nazione",
	                                "required": true
	                            },
	                            "professionali": {
	                                "title": "N&#176; Visitatori Professionali",
	                                "pattern": "^\\d+$",
	                                "type": "string",
	                                "required": true
	                            },
	                            "generici": {
	                                "title": "N&#176; Visitatori generici",
	                                "pattern": "^\\d+$",
	                                "type": "string",
	                                "required": true
	                            },
	                            "totVisitatori": {
	                                "title": "Totale visitatori",
	                                "type": "string"
	                            },
	                            "reingressi": {
	                                "title": "N&#176; Reingressi",
	                                "pattern": "^\\d+$",
	                                "type": "string",
	                                "required": true
	                            },
	                            "totale": {
	                                "title": "Totale visitatori + Reingressi",
	                                "type": "string"
	                            }
	                        },
	                        "required": false
	                    },
	                    "uniqExtraEuItems": false,
	                    "properties": {}
	                },
	                "ncExtraEuProfessionali": {
	                    "pattern": "^\\d+$",
	                    "type": "string",
	                    "properties": {}
	                },
	                "ncExtraEugenerici": {
	                    "pattern": "^\\d+$",
	                    "type": "string",
	                    "properties": {}
	                },
	                "visitatoriNcExtraEuTotale": {
	                    "pattern": "^\\d+$",
	                    "type": "string",
	                    "properties": {}
	                },
	                "ncExtraEuReingressi": {
	                    "type": "string",
	                    "pattern": "^\\d+$",
	                    "properties": {}
	                },
	                "totNcExtraEu": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "totExtraEuProfessionali": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "totExtraEugenerici": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "totExtraEuVisitatori": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "totExtraEuReingressi": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "totExtraEu": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "numeroVisitatoriPuglia": {
	                    "type": "string",
	                    "properties": {}
	                },
	                "numeroRegioni": {
		 				"type": "string",
	                    "properties": {}
	                },
	                "totaleProfessionaliExtraEu": {
		 				"type": "string",
	                    "properties": {}
	                },
	                "totalegenericiExtraEu": {
		 				"type": "string",
	                    "properties": {}
	                },
	                "totalevisitatoriExtraEu": {
		 				"type": "string",
	                    "properties": {}
	                },
	                "totaleReingressiExtraEu": {
		 				"type": "string",
	                    "properties": {}
	                },
	                "totaleExtraEu": {
		 				"type": "string",
	                    "properties": {}
	                },
	                "totaleProfessioanliItaliani": {
		 				"type": "string",
	                    "properties": {}
	                },
	                "totaleGenericiItaliani": {
		 				"type": "string",
	                    "properties": {}
	                },
	                "totaleVisitatoriItaliani": {
		 				"type": "string",
	                    "properties": {}
	                },
	                "totaleReingressiItaliani": {
		 				"type": "string",
	                    "properties": {}
	                },
	                "totaleVisitatoriReingressiItaliani": {
		 				"type": "string",
	                    "properties": {}
	                }
                 }
            };
            
            Alpaca.merge(this.options, {
            	"validate": false,
	            "showMessages": false,
                "fields": {
                    "visitatoriUniciLabel": {
	                    "type": "text",
	                    "validate": false,
	                    "showMessages": false,
	                    "disabled": false,
	                    "hidden": false,
	                    "helpers": [],
	                    "hideInitValidationError": false,
	                    "focus": false,
	                    "optionLabels": [],
	                    "typeahead": {},
	                    "allowOptionalEmpty": true,
	                    "data": {},
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "renderButtons": true,
	                    "attributes": {},
	                    "fields": {},
	                    "view": "bootstrap-display"
	                },
	                "professionaliLabel": {
	                    "type": "text",
	                    "validate": false,
	                    "showMessages": false,
	                    "disabled": false,
	                    "hidden": false,
	                    "helpers": [],
	                    "hideInitValidationError": false,
	                    "focus": false,
	                    "optionLabels": [],
	                    "typeahead": {},
	                    "allowOptionalEmpty": true,
	                    "data": {},
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "renderButtons": true,
	                    "attributes": {},
	                    "fields": {},
	                    "view": "bootstrap-display"
	                },
	                "genericiLabel": {
	                    "type": "text",
	                    "validate": false,
	                    "showMessages": false,
	                    "disabled": false,
	                    "hidden": false,
	                    "helpers": [],
	                    "hideInitValidationError": false,
	                    "focus": false,
	                    "optionLabels": [],
	                    "typeahead": {},
	                    "allowOptionalEmpty": true,
	                    "data": {},
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "renderButtons": true,
	                    "attributes": {},
	                    "fields": {},
	                    "view": "bootstrap-display"
	                },
	                "totaleVisitatoriLabel": {
	                    "type": "text",
	                    "validate": false,
	                    "showMessages": false,
	                    "disabled": false,
	                    "hidden": false,
	                    "helpers": [],
	                    "hideInitValidationError": false,
	                    "focus": false,
	                    "optionLabels": [],
	                    "typeahead": {},
	                    "allowOptionalEmpty": true,
	                    "data": {},
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "renderButtons": true,
	                    "attributes": {},
	                    "fields": {},
	                    "view": "bootstrap-display"
	                },
	                "reingressiLabel": {
	                    "type": "text",
	                    "validate": false,
	                    "showMessages": false,
	                    "disabled": false,
	                    "hidden": false,
	                    "helpers": [],
	                    "hideInitValidationError": false,
	                    "focus": false,
	                    "optionLabels": [],
	                    "typeahead": {},
	                    "allowOptionalEmpty": true,
	                    "data": {},
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "renderButtons": true,
	                    "attributes": {},
	                    "fields": {},
	                    "view": "bootstrap-display"
	                },
	                "totaleVisiteLabel": {
	                    "type": "text",
	                    "validate": false,
	                    "showMessages": false,
	                    "disabled": false,
	                    "hidden": false,
	                    "helpers": [],
	                    "hideInitValidationError": false,
	                    "focus": false,
	                    "optionLabels": [],
	                    "typeahead": {},
	                    "allowOptionalEmpty": true,
	                    "data": {},
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "renderButtons": true,
	                    "attributes": {},
	                    "fields": {},
	                    "view": "bootstrap-display"
	                },
	                "italianiLabel": {
	                    "type": "text",
	                    "validate": false,
	                    "showMessages": false,
	                    "disabled": false,
	                    "hidden": false,
	                    "helpers": [],
	                    "hideInitValidationError": false,
	                    "focus": false,
	                    "optionLabels": [],
	                    "typeahead": {},
	                    "allowOptionalEmpty": true,
	                    "data": {},
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "renderButtons": true,
	                    "attributes": {},
	                    "fields": {},
	                    "view": "bootstrap-display"
	                },
	                "italianiProfessioanli": {
	                    "type": "text",
	                    "disabled": true,
	                    "renderButtons": true,
	                    "helpers": [],
	                    "validate": false,
	                    "showMessages": false,
	                    "data": {},
	                    "attributes": {},
	                    "allowOptionalEmpty": true,
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "fieldClass": "",
	                    "fields": {}/*,
	                    "events":{
							"ready": function() {
								this.setValue(0);
							}
						}*/
	                },
	                "italianiGenerici": {
	                    "type": "text",
	                    "disabled": true,
	                    "renderButtons": true,
	                    "helpers": [],
	                    "validate": false,
	                    "showMessages": false,
	                    "data": {},
	                    "attributes": {},
	                    "allowOptionalEmpty": true,
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "fieldClass": "",
	                    "fields": {}/*,
	                    "events":{
							"ready": function() {
								this.setValue(0);
							}
						}*/
	                },
	                "italianiTotaleVis": {
	                    "type": "text",
	                    "disabled": true,
	                    "renderButtons": true,
	                    "helpers": [],
	                    "validate": false,
	                    "showMessages": false,
	                    "data": {},
	                    "attributes": {},
	                    "allowOptionalEmpty": true,
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "fieldClass": "",
	                    "fields": {}/*,
	                    "events":{
							"ready": function() {
								this.setValue(0);
							}
						}*/
	                },
	                "italianiReingressi": {
	                    "type": "text",
	                    "disabled": true,
	                    "renderButtons": true,
	                    "helpers": [],
	                    "validate": false,
	                    "showMessages": false,
	                    "data": {},
	                    "attributes": {},
	                    "allowOptionalEmpty": true,
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "fieldClass": "",
	                    "fields": {}/*,
	                    "events":{
							"ready": function() {
								this.setValue(0);
							}
						}*/
	                },
	                "italianiTotaleVisite": {
	                    "type": "text",
	                    "disabled": true,
	                    "renderButtons": true,
	                    "helpers": [],
	                    "validate": false,
	                    "showMessages": false,
	                    "data": {},
	                    "attributes": {},
	                    "allowOptionalEmpty": true,
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "fieldClass": "",
	                    "fields": {}/*,
	                    "events":{
							"ready": function() {
								this.setValue(0);
							}
						}*/
	                },
	                "euLabel": {
	                    "type": "text",
	                    "validate": false,
	                    "showMessages": false,
	                    "disabled": false,
	                    "hidden": false,
	                    "helpers": [],
	                    "hideInitValidationError": false,
	                    "focus": false,
	                    "optionLabels": [],
	                    "typeahead": {},
	                    "allowOptionalEmpty": true,
	                    "data": {},
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "renderButtons": true,
	                    "attributes": {},
	                    "fields": {},
	                    "view": "bootstrap-display"
	                },
	                "euProfessioanli": {
	                    "type": "text",
	                    "disabled": true,
	                    "renderButtons": true,
	                    "helpers": [],
	                    "validate": false,
	                    "showMessages": false,
	                    "data": {},
	                    "attributes": {},
	                    "allowOptionalEmpty": true,
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "fieldClass": "",
	                    "fields": {}/*,
	                    "events":{
							"ready": function() {
								this.setValue(0);
							}
						}*/
	                },
	                "euGenerici": {
	                    "type": "text",
	                    "disabled": true,
	                    "renderButtons": true,
	                    "helpers": [],
	                    "validate": false,
	                    "showMessages": false,
	                    "data": {},
	                    "attributes": {},
	                    "allowOptionalEmpty": true,
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "fieldClass": "",
	                    "fields": {}/*,
	                    "events":{
							"ready": function() {
								this.setValue(0);
							}
						}*/
	                },
	                "euTotaleVis": {
	                    "type": "text",
	                    "disabled": true,
	                    "renderButtons": true,
	                    "helpers": [],
	                    "validate": false,
	                    "showMessages": false,
	                    "data": {},
	                    "attributes": {},
	                    "allowOptionalEmpty": true,
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "fieldClass": "",
	                    "fields": {}/*,
	                    "events":{
							"ready": function() {
								this.setValue(0);
							}
						}*/
	                },
	                "euReingressi": {
	                    "type": "text",
	                    "disabled": true,
	                    "renderButtons": true,
	                    "helpers": [],
	                    "validate": false,
	                    "showMessages": false,
	                    "data": {},
	                    "attributes": {},
	                    "allowOptionalEmpty": true,
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "fieldClass": "",
	                    "fields": {}/*,
	                    "events":{
							"ready": function() {
								this.setValue(0);
							}
						}*/
	                },
	                "euTotaleVisite": {
	                    "type": "text",
	                    "disabled": true,
	                    "renderButtons": true,
	                    "helpers": [],
	                    "validate": false,
	                    "showMessages": false,
	                    "data": {},
	                    "attributes": {},
	                    "allowOptionalEmpty": true,
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "fieldClass": "",
	                    "fields": {}/*,
	                    "events":{
							"ready": function() {
								this.setValue(0);
							}
						}*/
	                },
	                "extraEuLabel": {
	                    "type": "text",
	                    "validate": false,
	                    "showMessages": false,
	                    "disabled": false,
	                    "hidden": false,
	                    "helpers": [],
	                    "hideInitValidationError": false,
	                    "focus": false,
	                    "optionLabels": [],
	                    "typeahead": {},
	                    "allowOptionalEmpty": true,
	                    "data": {},
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "renderButtons": true,
	                    "attributes": {},
	                    "fields": {},
	                    "view": "bootstrap-display"
	                },
	                "extraEuProfessioanli": {
	                    "type": "text",
	                    "disabled": true,
	                    "renderButtons": true,
	                    "helpers": [],
	                    "validate": false,
	                    "showMessages": false,
	                    "data": {},
	                    "attributes": {},
	                    "allowOptionalEmpty": true,
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "fieldClass": "",
	                    "fields": {}/*,
	                    "events":{
							"ready": function() {
								this.setValue(0);
							}
						}*/
	                },
	                "extraEuGenerici": {
	                    "type": "text",
	                    "disabled": true,
	                    "renderButtons": true,
	                    "helpers": [],
	                    "validate": false,
	                    "showMessages": false,
	                    "data": {},
	                    "attributes": {},
	                    "allowOptionalEmpty": true,
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "fieldClass": "",
	                    "fields": {}/*,
	                    "events":{
							"ready": function() {
								this.setValue(0);
							}
						}*/
	                },
	                "extraEuTotaleVis": {
	                    "type": "text",
	                    "disabled": true,
	                    "renderButtons": true,
	                    "helpers": [],
	                    "validate": false,
	                    "showMessages": false,
	                    "data": {},
	                    "attributes": {},
	                    "allowOptionalEmpty": true,
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "fieldClass": "",
	                    "fields": {}/*,
	                    "events":{
							"ready": function() {
								this.setValue(0);
							}
						}*/
	                },
	                "extraEuReingressi": {
	                    "type": "text",
	                    "disabled": true,
	                    "renderButtons": true,
	                    "helpers": [],
	                    "validate": false,
	                    "showMessages": false,
	                    "data": {},
	                    "attributes": {},
	                    "allowOptionalEmpty": true,
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "fieldClass": "",
	                    "fields": {}/*,
	                    "events":{
							"ready": function() {
								this.setValue(0);
							}
						}*/
	                },
	                "extraEuTotaleVisite": {
	                    "type": "text",
	                    "disabled": true,
	                    "renderButtons": true,
	                    "helpers": [],
	                    "validate": false,
	                    "showMessages": false,
	                    "data": {},
	                    "attributes": {},
	                    "allowOptionalEmpty": true,
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "fieldClass": "",
	                    "fields": {}/*,
	                    "events":{
							"ready": function() {
								this.setValue(0);
							}
						}*/
	                },
	                "totaleLabel": {
	                    "type": "text",
	                    "validate": false,
	                    "showMessages": false,
	                    "disabled": false,
	                    "hidden": false,
	                    "helpers": [],
	                    "hideInitValidationError": false,
	                    "focus": false,
	                    "optionLabels": [],
	                    "typeahead": {},
	                    "allowOptionalEmpty": true,
	                    "data": {},
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "renderButtons": true,
	                    "attributes": {},
	                    "fields": {},
	                    "view": "bootstrap-display"
	                },
	                "totaleProfessionali": {
	                    "type": "text",
	                    "disabled": true,
	                    "renderButtons": true,
	                    "helpers": [],
	                    "validate": false,
	                    "showMessages": false,
	                    "data": {},
	                    "attributes": {},
	                    "allowOptionalEmpty": true,
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "fieldClass": "",
	                    "fields": {}/*,
	                    "events":{
							"ready": function() {
								this.setValue(0);
							}
						}*/
	                },
	                "totaleGenerici": {
	                    "type": "text",
	                    "disabled": true,
	                    "renderButtons": true,
	                    "helpers": [],
	                    "validate": false,
	                    "showMessages": false,
	                    "data": {},
	                    "attributes": {},
	                    "allowOptionalEmpty": true,
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "fieldClass": "",
	                    "fields": {}/*,
	                    "events":{
							"ready": function() {
								this.setValue(0);
							}
						}*/
	                },
	                "totaleVisitatori": {
	                    "type": "text",
	                    "disabled": true,
	                    "renderButtons": true,
	                    "helpers": [],
	                    "validate": false,
	                    "showMessages": false,
	                    "data": {},
	                    "attributes": {},
	                    "allowOptionalEmpty": true,
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "fieldClass": "",
	                    "fields": {}/*,
	                    "events":{
							"ready": function() {
								this.setValue(0);
							}
						}*/
	                },
	                "totaleReingressi": {
	                    "type": "text",
	                    "disabled": true,
	                    "renderButtons": true,
	                    "helpers": [],
	                    "validate": false,
	                    "showMessages": false,
	                    "data": {},
	                    "attributes": {},
	                    "allowOptionalEmpty": true,
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "fieldClass": "",
	                    "fields": {}/*,
	                    "events":{
							"ready": function() {
								this.setValue(0);
							}
						}*/
	                },
	                "totaleVisitatoriReingressi": {
	                    "type": "text",
	                    "disabled": true,
	                    "renderButtons": true,
	                    "helpers": [],
	                    "validate": false,
	                    "showMessages": false,
	                    "data": {},
	                    "attributes": {},
	                    "allowOptionalEmpty": true,
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "fieldClass": "",
	                    "fields": {}/*,
	                    "events":{
							"ready": function() {
								this.setValue(0);
							}
						}*/
	                },
	                "visitatoritoriNazionaliLabel": {
	                    "type": "text",
	                    "validate": false,
	                    "showMessages": false,
	                    "disabled": false,
	                    "hidden": false,
	                    "helpers": [],
	                    "fieldClass": "",
	                    "hideInitValidationError": false,
	                    "focus": false,
	                    "optionLabels": [],
	                    "typeahead": {},
	                    "allowOptionalEmpty": true,
	                    "data": {},
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "renderButtons": true,
	                    "attributes": {},
	                    "fields": {},
	                    "view": "bootstrap-display"
	                },
	                "visitatoriNazionali": {
	                    "type": "array",
	                    "validate": true,
	                    "showMessages": true,
	                    "disabled": false,
	                    "readonly": false,
	                    "actionbarStyle": "bottom",
	                    "hideToolbarWithChildren": false,
	                    "toolbarSticky": true,
	                    "hideActionbar": false,
	                    "hideToolbar": false,
	                    "toolbar": {
	                        "actions": [
	                            {
	                                "action": "add",
	                                "enabled": true,
	                                "label": "Aggiungi"
	                            }
	                        ]
	                    },
	                    "actionbar": {
	                        "showLabels": true,
	                        "actions": [
	                            {
	                                "action": "add",
	                                "enabled": false
	                            },
	                            {
	                                "action": "remove",
	                                "label": "Rimuovi",
	                                "click": function(key, action, itemIndex) {
										var selfArr = this;
					                    this.handleActionBarRemoveItemClick(itemIndex, function() {
										
					                        /*var item = selfArr.children[0];
					                        item.getFieldEl().change();*/
					                        
					                        arrayVisiteNazionaliChange(selfArr);
											$(".calcolaButton").click();				                        
				                    	})
                					}
	                            },
	                            {
	                                "action": "up",
	                                "label": " "
	                            },
	                            {
	                                "action": "down",
	                                "label": " "
	                            }
	                        ]
	                    },
	                    "hidden": false,
	                    "helpers": [],
	                    "hideInitValidationError": false,
	                    "focus": false,
	                    "optionLabels": [],
	                    "lazyLoading": false,
	                    "collapsible": false,
	                    "collapsed": false,
	                    "legendStyle": "button",
	                    "animate": true,
	                    "sort": false,
	                    "view":{
							"messages": {
						        "notOptional": "Campo obbligatorio.",
						        "stringNotANumber": "Inserire un valore numerico intero",
						        "invalidPattern": "Inserire un valore numerico intero",
						        "notEnoughItems": "Inserire almeno una regione"
						    },
							"templates": {
				                "container": "<div class='noPadding'><div><b>{{options.label}}</b>{{#container}}{{/container}}</div></div>",
				                "container-object": "<div><div class='row'>{{#each items}}<div class='col-md-2'>{{#item}}{{/item}}</div>{{/each}}</div></div>"
				            }
						},
	                    "items": {
							"events":{
								"change": function(){
									arrayVisiteNazionaliChange(this.parent);
									$(".calcolaButton").click();								
								}/*,
								"remove": function(){
									
									var name = this.name;
									var splitted = name.split('_');
									var self = $(".alpaca-form").alpaca('get').childrenByPropertyId[splitted[0]].childrenByPropertyId[splitted[1]];
									
									arrayVisiteNazionaliChange(self);
									$(".calcolaButton").click();								
								}/*,
								"ready": function(){
									arrayNaz = this;
								}*/
							},							
	                        "fields": {
								"regione": {
	                                "fieldClass" : "select2ac1 notSelect2 paddingtop20",
									"type": "select",
									"validate": true,
			                        "showMessages": true,
			                        "disabled": false,
			                        "hidden": false,
			                        "helpers": [],
			                        "hideInitValidationError": true,
			                        "focus": false,
			                        "optionLabels": [], 
			                        "removeDefaultNone": false,
			                        "noneLabel": "-- Seleziona --",
			                        "hideNone": false,
			                        "useDataSourceAsEnum": false,
			                        "multiple": false, 
			                        "multiselect": {
			                            "disableIfEmpty": true
			                        },
			                        "sort": false,
			                        "renderButtons": true,
			                        "fields": {},
									"dataSource": function(callback) {
										$.ajax({
						                	url: getAllRegioniFiereUrl,
						                    dataType: 'json',
						                    delay: 0,
						                    timeout: 20000,
						                    error: function (err) {
						                    	console.log("error", err);
						                    	callback([]);
				                            },
				                            success: function (data) {
				                            	callback(data);
				                            }
						                });
			                        }
	                            },
	                            "professionali": {
	                                "type": "text",
			                        "helpers": [],
			                        "validate": true,
			                        "showMessages": true,
			                        "collapsible": false,
			                        "legendStyle": "button",
			                        "disabled": false
	                            },
	                            "generici": {
	                                "type": "text",
	                                "fieldClass" : "",
			                        "helpers": [],
			                        "validate": true,
			                        "showMessages": true,
			                        "collapsible": false,
			                        "legendStyle": "button",
			                        "disabled": false
	                            },
	                            "totVisitatori": {
	                                "type": "text",
	                                "fieldClass" : "paddingtop20",
			                        "helpers": [],
			                        "validate": false,
			                        "showMessages": false,
			                        "collapsible": false,
			                        "legendStyle": "button",
			                        "disabled": true
	                            },
	                            "reingressi": {
	                                "type": "text",
			                        "helpers": [],
			                        "validate": true,
			                        "showMessages": true,
			                        "fieldClass" : "paddingtop20",
			                        "collapsible": false,
			                        "legendStyle": "button",
			                        "disabled": false
	                            },
	                            "totale": {
	                                "type": "text",
			                        "helpers": [],
			                        "validate": false,
			                        "showMessages": false,
			                        "collapsible": false,
			                        "legendStyle": "button",
			                        "disabled": true
	                            }
		                    },
		                    "rubyrails": false,
		                    "toolbarStyle": "button"
						}
	                },
	                "ncLabel": {
	                    "type": "text",
	                    "validate": false,
	                    "showMessages": false,
	                    "disabled": false,
	                    "hidden": false,
	                    "helpers": [],
	                    "fieldClass": "",
	                    "hideInitValidationError": false,
	                    "focus": false,
	                    "optionLabels": [],
	                    "typeahead": {},
	                    "allowOptionalEmpty": true,
	                    "data": {},
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "renderButtons": true,
	                    "attributes": {},
	                    "fields": {},
	                    "view": "bootstrap-display"
	                },
	                "ncNazProfessionali": {
	                    "label": "",
			            "type": "text",
			            "helpers": [],
			            "validate": true,
			            "disabled": false,
			            "showMessages": true,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {},
			            "events": {
							"change": function() {
								calcolaNcVisiteNazionali(this);
								$(".calcolaButton").click();
							}
						}
	                },
	                "ncNazgenerici": {
	                    "label": "",
			            "type": "text",
			            "helpers": [],
			            "validate": true,
			            "disabled": false,
			            "showMessages": true,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {},
			            "events": {
							"change": function() {
								calcolaNcVisiteNazionali(this);
								$(".calcolaButton").click();
							}
						}
	                },
	                "visitatoriNcTotale": {
	                    "label": "",
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "ncNazReingressi": {
	                    "label": "",
			            "type": "text",
			            "helpers": [],
			            "validate": true,
			            "disabled": false,
			            "showMessages": true,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {},
			            "events": {
							"change": function() {
								calcolaNcVisiteNazionali(this);
								$(".calcolaButton").click();
							}
						}
	                },
	                "totNcNazionale": {
	                    "label": "",
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totNazProfessionali": {
	                    "label": "",
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totNazgenerici": {
	                    "label": "",
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totNazVisitatori": {
	                    "label": "",
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totNazReingressi": {
	                    "label": "",
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totNazionale": {
	                    "label": "",
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "visitatoritoriEsteriLabel": {
	                    "type": "text",
	                    "validate": false,
	                    "showMessages": false,
	                    "disabled": false,
	                    "hidden": false,
	                    "helpers": [],
	                    "fieldClass": "",
	                    "hideInitValidationError": false,
	                    "focus": false,
	                    "optionLabels": [],
	                    "typeahead": {},
	                    "allowOptionalEmpty": true,
	                    "data": {},
	                    "autocomplete": false,
	                    "disallowEmptySpaces": false,
	                    "disallowOnlyEmptySpaces": false,
	                    "renderButtons": true,
	                    "attributes": {},
	                    "fields": {},
	                    "view": "bootstrap-display"
	                },
	                "visitatoriEuropei": {
	                    "label": "EUROPEI",
	                    "type": "array",
	                    "validate": true,
	                    "showMessages": true,
	                    "disabled": false,
	                    "readonly": false,
	                    "actionbarStyle": "bottom",
	                    "hideToolbarWithChildren": false,
	                    "toolbarSticky": true,
	                    "hideActionbar": false,
	                    "hideToolbar": false,
	                    "toolbar": {
	                        "actions": [
	                            {
	                                "action": "add",
	                                "enabled": true,
	                                "label": "Aggiungi"
	                            }
	                        ]
	                    },
	                    "actionbar": {
	                        "showLabels": true,
	                        "actions": [
	                            {
	                                "action": "add",
	                                "enabled": false
	                            },
	                            {
	                                "action": "remove",
	                                "label": "Rimuovi",
	                                "click": function(key, action, itemIndex) {
										var selfArr = this;
					                    this.handleActionBarRemoveItemClick(itemIndex, function() {
											/*
					                        var item = selfArr.children[0];
					                        item.getFieldEl().change();*/
					                        arrayVisiteEuChange(selfArr);
											$(".calcolaButton").click();
				                    	})
                					}
	                            },
	                            {
	                                "action": "up",
	                                "label": " "
	                            },
	                            {
	                                "action": "down",
	                                "label": " "
	                            }
	                        ]
	                    },
	                    "hidden": false,
	                    "helpers": [],
	                    "hideInitValidationError": false,
	                    "focus": false,
	                    "optionLabels": [],
	                    "lazyLoading": false,
	                    "collapsible": false,
	                    "collapsed": false,
	                    "legendStyle": "button",
	                    "animate": true,
	                    "sort": false,
	                    "view":{
							"messages": {
						        "notOptional": "Campo obbligatorio.",
						        "stringNotANumber": "Inserire un valore numerico intero",
						        "invalidPattern": "Inserire un valore numerico intero",
						        "notEnoughItems": "Inserire almeno una nazione"
						    },
							"templates": {
				                "container": "<div class='noPadding'><div><b>{{options.label}}</b>{{#container}}{{/container}}</div></div>",
				                "container-object": "<div><div class='row'>{{#each items}}<div class='col-md-2'>{{#item}}{{/item}}</div>{{/each}}</div></div>"
				            }
						},
	                    "items": {
							"events":{
								"change": function(){
									arrayVisiteEuChange(this.parent);
									$(".calcolaButton").click();								
								}/*,
								"remove": function(){
									
									var name = this.name;
									var splitted = name.split('_');
									var self = $(".alpaca-form").alpaca('get').childrenByPropertyId[splitted[0]].childrenByPropertyId[splitted[1]];
									
									arrayVisiteEuChange(self);
									$(".calcolaButton").click();								
								}/*,
								"ready": function(){
									arrayEuro = this;
								}*/
							},	
	                        "fields": {
		                        "nazione": {
	                                "fieldClass" : "select2ac1 notSelect2 paddingtop20",
									"type": "select",
									"validate": true,
			                        "showMessages": true,
			                        "disabled": false,
			                        "hidden": false,
			                        "helpers": [],
			                        "hideInitValidationError": true,
			                        "focus": false,
			                        "optionLabels": [], 
			                        "removeDefaultNone": false,
			                        "noneLabel": "-- Seleziona --",
			                        "hideNone": false,
			                        "useDataSourceAsEnum": false,
			                        "multiple": false, 
			                        "multiselect": {
			                            "disableIfEmpty": true
			                        },
			                        "sort": false,
			                        "renderButtons": true,
			                        "fields": {},
									"dataSource": function(callback) {
										$.ajax({
						                	url: getAllNazioniFiereUrl + "?area=EU",
						                    dataType: 'json',
						                    delay: 0,
						                    timeout: 20000,
						                    error: function (err) {
						                    	console.log("error", err);
						                    	callback([]);
				                            },
				                            success: function (data) {
				                            	callback(data);
				                            }
						                });
			                        }
	                            },
	                            "professionali": {
	                                "type": "text",
			                        "helpers": [],
			                        "validate": true,
			                        "showMessages": true,
			                        "collapsible": false,
			                        "legendStyle": "button",
			                        "disabled": false
	                            },
	                            "generici": {
	                                "type": "text",
	                                "fieldClass" : "",
			                        "helpers": [],
			                        "validate": true,
			                        "showMessages": true,
			                        "collapsible": false,
			                        "legendStyle": "button",
			                        "disabled": false
	                            },
	                            "totVisitatori": {
	                                "type": "text",
	                                "fieldClass" : "paddingtop20",
			                        "helpers": [],
			                        "validate": false,
			                        "showMessages": false,
			                        "collapsible": false,
			                        "legendStyle": "button",
			                        "disabled": true
	                            },
	                            "reingressi": {
	                                "type": "text",
			                        "helpers": [],
			                        "validate": true,
			                        "showMessages": true,
			                        "fieldClass" : "paddingtop20",
			                        "collapsible": false,
			                        "legendStyle": "button",
			                        "disabled": false
	                            },
	                            "totale": {
	                                "type": "text",
			                        "helpers": [],
			                        "validate": false,
			                        "showMessages": false,
			                        "collapsible": false,
			                        "legendStyle": "button",
			                        "disabled": true
	                            }
		                    },
		                    "rubyrails": false,
		                    "toolbarStyle": "button"
						}
	                },/*
	                "ncUeProfessionali": {
	                    "label": "",
			            "type": "text",
			            "helpers": [],
			            "validate": true,
			            "disabled": false,
			            "showMessages": true,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {},
			            "events": {
							"change": function() {
								calcolaNcVisiteEu(this);
							}
						}
	                },
	                "ncUegenerici": {
	                    "label": "",
			            "type": "text",
			            "helpers": [],
			            "validate": true,
			            "disabled": false,
			            "showMessages": true,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {},
			            "events": {
							"change": function() {
								calcolaNcVisiteEu(this);
							}
						}
	                },
	                "visitatoriNcUeTotale": {
	                    "label": "",
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "ncUeReingressi": {
	                    "label": "",
			            "type": "text",
			            "helpers": [],
			            "validate": true,
			            "disabled": false,
			            "showMessages": true,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {},
			            "events": {
							"change": function() {
								calcolaNcVisiteEu(this);
							}
						}
	                },
	                "totNcUe": {
	                    "label": "",
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totUeProfessionali": {
	                    "label": "",
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totUegenerici": {
	                    "label": "",
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totUeVisitatori": {
	                    "label": "",
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totUeReingressi": {
	                    "label": "",
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totUe": {
	                    "label": "",
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },*/
	                "visitatoriExtraEuropei": {
	                    "label": "EXTRA EUROPEI",
	                    "type": "array",
	                    "validate": true,
	                    "showMessages": true,
	                    "disabled": false,
	                    "readonly": false,
	                    "actionbarStyle": "bottom",
	                    "hideToolbarWithChildren": false,
	                    "toolbarSticky": true,
	                    "hideActionbar": false,
	                    "hideToolbar": false,
	                    "toolbar": {
	                        "actions": [
	                            {
	                                "action": "add",
	                                "enabled": true,
	                                "label": "Aggiungi"
	                            }
	                        ]
	                    },
	                    "actionbar": {
	                        "showLabels": true,
	                        "actions": [
	                            {
	                                "action": "add",
	                                "enabled": false
	                            },
	                            {
	                                "action": "remove",
	                                "label": "Rimuovi",
	                                "click": function(key, action, itemIndex) {
										var selfArr = this;
					                    this.handleActionBarRemoveItemClick(itemIndex, function() {
											/*
					                        var item = selfArr.children[0];
					                        item.getFieldEl().change();*/
					                        arrayVisiteExtraEuChange(selfArr);
											$(".calcolaButton").click();
				                    	})
                					}
	                            },
	                            {
	                                "action": "up",
	                                "label": " "
	                            },
	                            {
	                                "action": "down",
	                                "label": " "
	                            }
	                        ]
	                    },
	                    "hidden": false,
	                    "helpers": [],
	                    "hideInitValidationError": false,
	                    "focus": false,
	                    "optionLabels": [],
	                    "lazyLoading": false,
	                    "collapsible": false,
	                    "collapsed": false,
	                    "legendStyle": "button",
	                    "animate": true,
	                    "sort": false,
	                    "view":{
							"messages": {
						        "notOptional": "Campo obbligatorio.",
						        "stringNotANumber": "Inserire un valore numericointero",
						        "invalidPattern": "Inserire un valore numerico intero",
						        "notEnoughItems": "Inserire almeno una nazione"
						    },
							"templates": {
				                "container": "<div class='noPadding'><div><b>{{options.label}}</b>{{#container}}{{/container}}</div></div>",
				                "container-object": "<div><div class='row'>{{#each items}}<div class='col-md-2'>{{#item}}{{/item}}</div>{{/each}}</div></div>"
				            }
						},
	                    "items": {
							"events":{
								"change": function(){
									arrayVisiteExtraEuChange(this.parent);
									$(".calcolaButton").click();								
								}/*,
								"remove": function(){
									
									var name = this.name;
									var splitted = name.split('_');
									var self = $(".alpaca-form").alpaca('get').childrenByPropertyId[splitted[0]].childrenByPropertyId[splitted[1]];
									
									arrayVisiteExtraEuChange(self);
									$(".calcolaButton").click();								
								},
								"ready": function(){
									arrayExtra = this;
								}*/
							},	
	                        "fields": {
		                        "nazione": {
	                                "fieldClass" : "select2ac1 notSelect2 paddingtop20",
									"type": "select",
									"validate": true,
			                        "showMessages": true,
			                        "disabled": false,
			                        "hidden": false,
			                        "helpers": [],
			                        "hideInitValidationError": true,
			                        "focus": false,
			                        "optionLabels": [], 
			                        "removeDefaultNone": false,
			                        "noneLabel": "-- Seleziona --",
			                        "hideNone": false,
			                        "useDataSourceAsEnum": false,
			                        "multiple": false, 
			                        "multiselect": {
			                            "disableIfEmpty": true
			                        },
			                        "sort": false,
			                        "renderButtons": true,
			                        "fields": {},
									"dataSource": function(callback) {
										$.ajax({
						                	url: getAllNazioniFiereUrl + "?area=EXTRA_EU",
						                    dataType: 'json',
						                    delay: 0,
						                    timeout: 20000,
						                    error: function (err) {
						                    	console.log("error", err);
						                    	callback([]);
				                            },
				                            success: function (data) {
				                            	callback(data);
				                            }
						                });
			                        }
	                            },
	                            "professionali": {
	                                "type": "text",
			                        "helpers": [],
			                        "validate": true,
			                        "showMessages": true,
			                        "collapsible": false,
			                        "legendStyle": "button",
			                        "disabled": false
	                            },
	                            "generici": {
	                                "type": "text",
	                                "fieldClass" : "",
			                        "helpers": [],
			                        "validate": true,
			                        "showMessages": true,
			                        "collapsible": false,
			                        "legendStyle": "button",
			                        "disabled": false
	                            },
	                            "totVisitatori": {
	                                "type": "text",
			                        "helpers": [],
			                        "fieldClass" : "paddingtop20",
			                        "validate": false,
			                        "showMessages": false,
			                        "collapsible": false,
			                        "legendStyle": "button",
			                        "disabled": true
	                            },
	                            "reingressi": {
	                                "type": "text",
	                                "fieldClass" : "paddingtop20",
			                        "helpers": [],
			                        "validate": true,
			                        "showMessages": true,
			                        "collapsible": false,
			                        "legendStyle": "button",
			                        "disabled": false
	                            },
	                            "totale": {
	                                "type": "text",
			                        "helpers": [],
			                        "validate": false,
			                        "showMessages": false,
			                        "collapsible": false,
			                        "legendStyle": "button",
			                        "disabled": true
	                            }
		                    },
		                    "rubyrails": false,
	                    	"toolbarStyle": "button"
						}
	                },
	                "ncExtraEuProfessionali": {
			            "type": "text",
			            "helpers": [],
			            "validate": true,
			            "disabled": false,
			            "showMessages": true,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {},
			            "events": {
							"change": function() {
								calcolaNcVisiteExtraEu(this);
								$(".calcolaButton").click();
							}
						}
	                },
	                "ncExtraEugenerici": {
			            "type": "text",
			            "helpers": [],
			            "validate": true,
			            "disabled": false,
			            "showMessages": true,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {},
			            "events": {
							"change": function() {
								calcolaNcVisiteExtraEu(this);
								$(".calcolaButton").click();
							}
						}
	                },
	                "visitatoriNcExtraEuTotale": {
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "ncExtraEuReingressi": {
			            "type": "text",
			            "helpers": [],
			            "validate": true,
			            "disabled": false,
			            "showMessages": true,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {},
			            "events": {
							"change": function() {
								calcolaNcVisiteExtraEu(this);
								$(".calcolaButton").click();
							}
						}
	                },
	                "totNcExtraEu": {
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totExtraEuProfessionali": {
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totExtraEugenerici": {
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totExtraEuVisitatori": {
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totExtraEuReingressi": {
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totExtraEu": {
			            "type": "text",
			            "helpers": [],
			            "validate": false,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "numeroVisitatoriPuglia": {
			            "type": "text",
			            "helpers": [],
			            "validate": false,			            
			            "hidden": true,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "numeroRegioni": {
			            "type": "text",
			            "helpers": [],
			            "validate": false,			            
			            "hidden": true,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totaleProfessionaliExtraEu": {
		 				"type": "text",
			            "helpers": [],
			            "validate": false,			            
			            "hidden": true,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totalegenericiExtraEu": {
		 				"type": "text",
			            "helpers": [],
			            "validate": false,			            
			            "hidden": true,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totalevisitatoriExtraEu": {
		 				"type": "text",
			            "helpers": [],
			            "validate": false,			            
			            "hidden": true,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totaleReingressiExtraEu": {
		 				"type": "text",
			            "helpers": [],
			            "validate": false,			            
			            "hidden": true,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totaleExtraEu": {
		 				"type": "text",
			            "helpers": [],
			            "validate": false,			            
			            "hidden": true,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totaleProfessioanliItaliani": {
		 				"type": "text",
			            "helpers": [],
			            "validate": false,			            
			            "hidden": true,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totaleGenericiItaliani": {
		 				"type": "text",
			            "helpers": [],
			            "validate": false,			            
			            "hidden": true,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totaleVisitatoriItaliani": {
		 				"type": "text",
			            "helpers": [],
			            "validate": false,			            
			            "hidden": true,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totaleReingressiItaliani": {
		 				"type": "text",
			            "helpers": [],
			            "validate": false,			            
			            "hidden": true,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                },
	                "totaleVisitatoriReingressiItaliani": {
		 				"type": "text",
			            "helpers": [],
			            "validate": false,			            
			            "hidden": true,
			            "disabled": true,
			            "showMessages": false,
			            "renderButtons": true,
			            "data": {},
			            "attributes": {},
			            "allowOptionalEmpty": true,
			            "autocomplete": false,
			            "disallowEmptySpaces": false,
			            "disallowOnlyEmptySpaces": false,
			            "fields": {}
	                }
                },
                "view": "visitatori-view"
            	
            });
            
        },

        /**
		 * @see Alpaca.Fields.ObjectField#getTitle
		 */
        getTitle: function() {
            return "Visitatori per Scheda Fiere";
        },

        /**
		 * @see Alpaca.Fields.ObjectField#getDescription
		 */
        getDescription: function() {
            return "I totali sono calcolati automaticamente";
        }
    });
   
    Alpaca.registerView({
	  	"id": "visitatori-view",
	  	"parent": "bootstrap-create",
	  	"messages": {
	        "notOptional": "Campo obbligatorio.",
	        "stringNotANumber": "Inserire un valore numerico intero",
	        "invalidPattern": "Inserire un valore numerico intero"
	    },
		"templates": {
			"container": visitatoriFiereContainer,
			"container-object": visitatoriFiereContainerObject
		}
    });
    Alpaca.registerFieldClass("visitatoriFiere", Alpaca.Fields.VisitatoriFiere); 
  
    
})(jQuery);